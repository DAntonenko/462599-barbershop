var loginLink=document.querySelector(".login-link"),mapLink_1=document.querySelector(".map-link_1"),mapLink_2=document.querySelector(".map-link_2"),loginBox=document.querySelector(".modal-login"),mapBox=document.querySelector(".modal-map"),loginClose=document.querySelector(".login-close"),mapClose=document.querySelector(".map-close"),loginInput=loginBox.querySelector("[name=login]"),passwordInput=loginBox.querySelector("[name=password]"),form=loginBox.querySelector("form"),isStorageSupport=!0,storageLogin=localStorage.getItem("login");try{storageLogin=localStorage.getItem("login")}catch(o){isStorageSupport=!1}loginLink.addEventListener("click",function(o){o.preventDefault(),loginBox.classList.remove("modal-hide"),loginBox.classList.add("modal-show-bounce"),loginInput.focus(),storageLogin&&(loginInput.value=storageLogin,passwordInput.focus())}),form.addEventListener("submit",function(o){loginInput.value?localStorage.setItem("login",loginInput.value):(o.preventDefault(),loginBox.classList.add("modal-error")),passwordInput.value||(o.preventDefault(),loginBox.classList.add("modal-error"))}),loginClose.addEventListener("click",function(o){o.preventDefault(),loginBox.classList.add("modal-hide"),loginBox.classList.remove("modal-error")}),mapLink_1.addEventListener("click",function(){mapBox.classList.remove("modal-hide"),mapBox.classList.add("modal-show-scale")}),mapLink_2.addEventListener("click",function(){mapBox.classList.remove("modal-hide"),mapBox.classList.add("modal-show-scale")}),mapClose.addEventListener("click",function(o){o.preventDefault(),mapBox.classList.add("modal-hide")}),window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),loginBox.classList.contains("modal-hide")||(loginBox.classList.add("modal-hide"),loginBox.classList.remove("modal-error")),mapBox.classList.contains("modal-hide")||mapBox.classList.add("modal-hide"))});